#!/bin/bash

# Get the list of staged C++ files
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(cpp|hpp|c|h)$')

for FILE in $STAGED_FILES; do
    clang-format -i "$FILE"
    git add "$FILE"
done

if [ -n "$STAGED_FILES" ]; then
    echo "Formatted C++ files."
fi

exit 0